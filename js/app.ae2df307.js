(function (e) { function t (t) { for (var r, a, s = t[0], c = t[1], l = t[2], u = 0, p = []; u < s.length; u++)a = s[u], Object.prototype.hasOwnProperty.call(i, a) && i[a] && p.push(i[a][0]), i[a] = 0; for (r in c)Object.prototype.hasOwnProperty.call(c, r) && (e[r] = c[r]); d && d(t); while (p.length)p.shift()(); return o.push.apply(o, l || []), n() } function n () { for (var e, t = 0; t < o.length; t++) { for (var n = o[t], r = !0, s = 1; s < n.length; s++) { var c = n[s]; i[c] !== 0 && (r = !1) }r && (o.splice(t--, 1), e = a(a.s = n[0])) } return e } var r = {}; var i = { app: 0 }; var o = []; function a (t) { if (r[t]) return r[t].exports; var n = r[t] = { i: t, l: !1, exports: {} }; return e[t].call(n.exports, n, n.exports, a), n.l = !0, n.exports }a.m = e, a.c = r, a.d = function (e, t, n) { a.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: n }) }, a.r = function (e) { typeof Symbol !== 'undefined' && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: 'Module' }), Object.defineProperty(e, '__esModule', { value: !0 }) }, a.t = function (e, t) { if (1 & t && (e = a(e)), 8 & t) return e; if (4 & t && typeof e === 'object' && e && e.__esModule) return e; var n = Object.create(null); if (a.r(n), Object.defineProperty(n, 'default', { enumerable: !0, value: e }), 2 & t && typeof e !== 'string') for (var r in e)a.d(n, r, function (t) { return e[t] }.bind(null, r)); return n }, a.n = function (e) { var t = e && e.__esModule ? function () { return e.default } : function () { return e }; return a.d(t, 'a', t), t }, a.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, a.p = '/sendy-tracker/'; var s = window.webpackJsonp = window.webpackJsonp || []; var c = s.push.bind(s); s.push = t, s = s.slice(); for (var l = 0; l < s.length; l++)t(s[l]); var d = c; o.push([0, 'chunk-vendors']), n() })({ 0: function (e, t, n) { e.exports = n('56d7') }, '0911': function (e, t, n) { 'use strict'; var r = n('c0c7'); var i = n.n(r); i.a }, '13b3': function (e, t, n) {}, '42cd': function (e, t, n) { 'use strict'; var r = n('a7ba'); var i = n.n(r); i.a }, '56d7': function (e, t, n) { 'use strict'; n.r(t); n('e260'), n('e6cf'), n('cca6'), n('a79d'); var r = n('2b0e'); var i = function () { var e = this; var t = e.$createElement; var r = e._self._c || t; return r('v-app', [r('v-app-bar', { attrs: { app: '', color: 'secondary', dark: '' } }, [r('v-img', { staticClass: 'app-bar-logo', attrs: { src: n('b6e3') } }), r('span', { staticClass: 'app-bar-title' }, [e._v('Sendy Tracker')])], 1), r('v-main', [r('v-container', { attrs: { 'ma-0': '', 'pa-0': '', fluid: '' } }, [r('router-view')], 1)], 1)], 1) }; var o = []; var a = { name: 'App' }; var s = a; var c = (n('42cd'), n('2877')); var l = n('6544'); var d = n.n(l); var u = n('7496'); var p = n('40dc'); var f = n('a523'); var v = n('adda'); var m = n('f6c4'); var h = Object(c.a)(s, i, o, !1, null, '0f491dc4', null); var g = h.exports; d()(h, { VApp: u.a, VAppBar: p.a, VContainer: f.a, VImg: v.a, VMain: m.a }); var w = n('8c4f'); var y = function () { var e = this; var t = e.$createElement; var n = e._self._c || t; return n('div', { staticClass: 'home' }, [n('Main')], 1) }; var b = []; var _ = function () { var e = this; var t = e.$createElement; var n = e._self._c || t; return n('v-container', [n('v-row', { staticClass: 'main-section' }, [n('v-col', { attrs: { md: '6', cols: '12' } }, [n('div', { staticClass: 'map-container' }, [n('Map', { attrs: { 'driver-coordinates': e.driverPosition, 'driver-name': e.driverName } })], 1)]), n('v-col', { attrs: { md: '6', cols: '12' } }, [n('delivery-status', { attrs: { 'delivery-status': e.deliveryStatus, 'driver-name': e.driverName } })], 1)], 1)], 1) }; var C = []; var O = (n('d3b7'), n('96cf'), n('1da1')); var k = function () { var e = this; var t = e.$createElement; var n = e._self._c || t; return n('section', { staticClass: 'status-section' }, [n('div', { staticClass: 'heading' }, [e._v('Deliver Status')]), n('div', [e._v(' Delivery status: '), n('span', { class: { cancelled: e.deliveryStatus === 'cancelled', pending: e.deliveryStatus === 'pending dispatch...' } }, [e._v(' ' + e._s(e.deliveryStatus) + ' ')])]), n('div', [e._v('Driver name: '), n('span', [e._v(e._s(e.driverName))])])]) }; var x = []; var S = { name: 'DeliveryStatus', props: { deliveryStatus: { type: String, required: !0 }, driverName: { type: String, required: !0 } } }; var M = S; var L = (n('0911'), Object(c.a)(M, k, x, !1, null, 'b64aa28c', null)); var P = L.exports; var N = function () { var e = this; var t = e.$createElement; var n = e._self._c || t; return n('GmapMap', { ref: 'mapRef', attrs: { center: e.center, zoom: e.zoom, options: e.options } }, [e.showMarker ? n('GmapMarker', { attrs: { position: e.driverLocation, clickable: !0, icon: e.markerOptions }, on: { click: function (t) { return e.toggleInfoWindow(e.driverLocation) } } }) : e._e(), e.showMarker ? n('gmap-info-window', { attrs: { options: e.infoOptions, position: e.infoWindowPos, opened: e.infoWinOpen }, on: { closeclick: function (t) { e.infoWinOpen = !0 } } }, [e.showMarker ? n('map-info-window', { attrs: { 'location-name': e.locationName, 'driver-name': e.driverName } }) : e._e()], 1) : e._e()], 1) }; var j = []; var W = (n('d81d'), n('b0c0'), n('b64b'), { center: { lat: -1.298982, lng: 36.776811 } }); var $ = function () { var e = this; var t = e.$createElement; var n = e._self._c || t; return n('div', { staticClass: 'info-window' }, [n('div', { staticClass: 'info-window-title' }, [e._v('Driver location:')]), n('div', { staticClass: 'info-window-text' }, [e._v(e._s(e.locationName))]), n('div', { staticClass: 'info-window-title' }, [e._v('Driver name:')]), n('div', { staticClass: 'info-window-text' }, [e._v(e._s(e.driverName))])]) }; var D = []; var R = { name: 'MapInfoWindow', props: { locationName: { type: String, required: !0 }, driverName: { type: String, required: !0 } } }; var V = R; var E = (n('7fc9'), Object(c.a)(V, $, D, !1, null, 'b9a6c030', null)); var T = E.exports; var z = { name: 'Map', props: { driverCoordinates: { type: Object, required: !0 }, driverName: { type: String, required: !0 } }, components: { MapInfoWindow: T }, data: function () { return { center: W.center, zoom: 17, driverLocation: null, locationName: '', infoContent: '', infoWindowPos: { lat: 0, lng: 0 }, infoWinOpen: !0, infoOptions: { pixelOffset: { width: 0, height: -35 } }, noCoordinates: W.center, markerOptions: { url: n('d505'), scaledSize: { width: 55, height: 75, f: 'px', b: 'px' } }, count: 0, steps: 7, deltaLat: null, deltaLng: null, oldLat: null, oldLng: null, options: { zoomControl: !0, mapTypeControl: !0, scaleControl: !1, streetViewControl: !1, rotateControl: !1, fullscreenControl: !1, disableDefaultUi: !0 } } }, watch: { driverCoordinates: function (e, t) { t.lat || (t = e), this.showMarker && (this.getLocationName(e), this.transition(t, e)) } }, computed: { showMarker: function () { return Object.keys(this.driverCoordinates).length } }, methods: { transition: function (e, t) { this.count = 0, this.deltaLat = (t.lat - e.lat) / 100, this.deltaLng = (t.lng - e.lng) / 100, this.oldLat = e.lat, this.oldlng = e.lng, this.moveMarker() }, moveMarker: function () { this.oldLat += this.deltaLat, this.oldlng += this.deltaLng, this.map.panTo(this.driverLocation), this.driverLocation = { lat: this.oldLat, lng: this.oldlng }, this.infoWindowPos = this.driverLocation, this.count !== 100 && (this.count++, setTimeout(this.moveMarker, 10)) }, toggleInfoWindow: function (e) { this.center = e, this.infoWindowPos = e, this.infoContent = e, this.infoWinOpen = !this.infoWinOpen }, getLocationName: function (e) { var t = this; var n = new google.maps.Geocoder(); var r = this; n.geocode({ location: e }, function (n, i) { var o = { name: '', coordinates: t.noCoordinates }; i === 'OK' ? (r.error = !1, n[0] ? (r.locationName = n[0].formatted_address, o.name = r.locationName, o.coordinates = e, r.$emit('locationName', o)) : window.alert('No results found :(')) : (r.$emit('locationName', o), r.error = !0, console.error('Geocoder failed due to: '.concat(i, '!')), window.alert('Please zoom out to set correct property location on the map!')) }) }, mapInit: function () { var e = this; return Object(O.a)(regeneratorRuntime.mark(function t () { return regeneratorRuntime.wrap(function (t) { while (1) switch (t.prev = t.next) { case 0:return e.driverLocation = W.center, e.infoWindowPos = e.driverLocation, t.next = 4, e.$refs.mapRef.$mapPromise; case 4:e.map = t.sent, e.map.panTo(e.driverLocation), e.getLocationName(e.driverLocation); case 7:case 'end':return t.stop() } }, t) }))() } }, mounted: function () { var e = this; return Object(O.a)(regeneratorRuntime.mark(function t () { return regeneratorRuntime.wrap(function (t) { while (1) switch (t.prev = t.next) { case 0:return t.next = 2, e.mapInit(); case 2:case 'end':return t.stop() } }, t) }))() } }; var B = z; var I = (n('ff14'), Object(c.a)(B, N, j, !1, null, '4ceb4d89', null)); var A = I.exports; var q = { name: 'Main', components: { Map: A, DeliveryStatus: P }, data: function () { return { driverCoordinates: [[-1.298982, 36.776811], [-1.297459, 36.776747], [-1.296193, 36.776726], [-1.296097, 36.779236], [-1.296151, 36.777637], [-1.296215, 36.776693], [-1.294252, 36.776586], [-1.294048, 36.77679], [-1.293973, 36.779118], [-1.292622, 36.779075], [-1.291844, 36.779049]], driverBCoordinates: [-1.28836, 36.822092], driverPosition: {}, driverName: 'driver A', deliveryStatus: 'Dispatching' } }, methods: { setCoordinates: function () { var e = this; var t = 0; var n = this.driverCoordinates.length; var r = function r () { setTimeout(function () { var i = e.driverCoordinates[t]; e.driverPosition = { lat: i[0], lng: i[1] }, t++, t < n ? r() : e.deliveryState() }, 4e3) }; r() }, timeout: function (e) { return new Promise(function (t, n) { return setTimeout(t, e) }) }, deliveryState: function () { var e = this; return Object(O.a)(regeneratorRuntime.mark(function t () { var n; return regeneratorRuntime.wrap(function (t) { while (1) switch (t.prev = t.next) { case 0:return t.next = 2, e.timeout(1e4); case 2:return n = { icon: 'error_outline' }, e.$toasted.error('Delivery cancelled', n), e.deliveryStatus = 'cancelled', t.next = 7, e.timeout(5e3); case 7:return t.next = 9, e.redeployingPackage(); case 9:case 'end':return t.stop() } }, t) }))() }, redeployingPackage: function () { var e = this; return Object(O.a)(regeneratorRuntime.mark(function t () { return regeneratorRuntime.wrap(function (t) { while (1) switch (t.prev = t.next) { case 0:return e.deliveryStatus = 'pending dispatch...', e.driverName = '', e.driverPosition = {}, t.next = 5, e.timeout(1e4); case 5:e.deployPackage(); case 6:case 'end':return t.stop() } }, t) }))() }, deployPackage: function () { var e = { icon: 'check_circle_outline' }; this.$toasted.info('Delivery dispatched', e), this.deliveryStatus = 'dispatching', this.driverName = 'driver B', this.driverPosition = { lat: this.driverBCoordinates[0], lng: this.driverBCoordinates[1] } } }, mounted: function () { this.setCoordinates() } }; var G = q; var H = (n('81da'), n('62ad')); var J = n('0fd9'); var U = Object(c.a)(G, _, C, !1, null, '768203df', null); var K = U.exports; d()(U, { VCol: H.a, VContainer: f.a, VRow: J.a }); var F = { name: 'Home', components: { Main: K } }; var Q = F; var X = Object(c.a)(Q, y, b, !1, null, null, null); var Y = X.exports; r.a.use(w.a); var Z = [{ path: '/', name: 'Home', component: Y }]; var ee = new w.a({ mode: 'history', base: '/sendy-tracker/', routes: Z }); var te = ee; var ne = n('2f62'); r.a.use(ne.a); var re = new ne.a.Store({ state: {}, mutations: {}, actions: {}, modules: {} }); var ie = n('f309'); var oe = { light: { primary: '#187ABC', secondary: '#ED7C38', info: '#E75125', warning: '#f4cf27', error: '#ff0000' } }; r.a.use(ie.a); var ae = new ie.a({ theme: { themes: oe } }); var se = n('a65d'); var ce = n.n(se); var le = n('755e'); r.a.use(ce.a, { duration: 4e3 }), r.a.use(le, { load: { key: 'AIzaSyBWMVg9uhO7-BieEMUB3cVzm9O78RGtugo', libraries: 'places,drawing,visualization' }, autobindAllEvents: !0 }), r.a.config.productionTip = !1, new r.a({ router: te, store: re, vuetify: ae, render: function (e) { return e(g) } }).$mount('#app') }, '637a': function (e, t, n) {}, '7fc9': function (e, t, n) { 'use strict'; var r = n('637a'); var i = n.n(r); i.a }, '81da': function (e, t, n) { 'use strict'; var r = n('13b3'); var i = n.n(r); i.a }, a7ba: function (e, t, n) {}, b6e3: function (e, t, n) { e.exports = n.p + 'img/sendy-logo.daead2f2.png' }, bc11: function (e, t, n) {}, c0c7: function (e, t, n) {}, d505: function (e, t, n) { e.exports = n.p + 'img/maker.25e40ddd.svg' }, ff14: function (e, t, n) { 'use strict'; var r = n('bc11'); var i = n.n(r); i.a } })
// # sourceMappingURL=app.ae2df307.js.map
